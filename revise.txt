1. давай при рендеринге spinner добавим стили к svg {width:"100%", height:"100%", aspectRatio:"1/1"}
2. spinner должен прокидываться в loading, а не вшиваться в HTML. убери из loading, если есть.
3. проверь неиспользуемые функции и потенциально ненужные. Например escapeAttr осталась с прошлого функционала, до happy-dom. Сначала спроси у меня, потом убери.
4. spinner не находится в options.html. Перенеси его туда.
5. ты почему-то не берешь из options html для fallback, loading. Их нужно доставать из options перед каждым выводом в DOM
6. во время рендеринга шаблонов не учитываются lang, dir из html. нужно их тоже учитывать при каждом рендере, так как SPA их может изменить в runtime
